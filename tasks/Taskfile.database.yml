version: '3'

tasks:
  # ============================================================================
  # SUPABASE DATABASE TASKS (Only keeping the ones that are actually used)
  # ============================================================================

  supabase-start:
    desc: Start Supabase services locally
    cmds:
      - |
        echo "ğŸš€ Starting Supabase..."
        supabase start --exclude vector
        echo "âœ… Supabase started"
        echo "ğŸ“Š Studio: http://localhost:54323"
        echo "ğŸ”— API: http://localhost:54321"

  db-types:
    desc: Generate TypeScript types from database schema
    cmds:
      - |
        echo "ğŸ“ Generating TypeScript types..."
        supabase gen types typescript --local > src/types/supabase.ts
        echo "âœ… Types generated at src/types/supabase.ts"

  db-seed-users:
    desc: Create test users and sample data
    cmds:
      - |
        echo "ğŸ‘¥ Creating test users..."
        npx tsx supabase/seed-users.ts
        echo "ğŸ“¦ Creating sample data..."
        npx tsx supabase/seed-data.ts
        echo "âœ… Test data creation complete!" 