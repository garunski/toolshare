version: '3'

tasks:
  # ============================================================================
  # SUPABASE DATABASE TASKS (Only keeping the ones that are actually used)
  # ============================================================================

  supabase-start:
    desc: Start Supabase services locally
    cmds:
      - |
        echo "🚀 Starting Supabase..."
        supabase start --exclude vector
        echo "✅ Supabase started"
        echo "📊 Studio: http://localhost:54323"
        echo "🔗 API: http://localhost:54321"

  db-types:
    desc: Generate TypeScript types from database schema
    cmds:
      - |
        echo "📝 Generating TypeScript types..."
        supabase gen types typescript --local > src/types/supabase.ts
        echo "✅ Types generated at src/types/supabase.ts"

  db-seed-users:
    desc: Create test users and sample data
    cmds:
      - |
        echo "👥 Creating test users..."
        npx tsx supabase/seed-users.ts
        echo "📦 Creating sample data..."
        npx tsx supabase/seed-data.ts
        echo "✅ Test data creation complete!" 